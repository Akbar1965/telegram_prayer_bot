# ğŸ“Š TELEGRAM BOT ISHLASH DIAGRAMMALARI

## 1ï¸âƒ£ ASOSIY BOT JARAYONI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FOYDALANUVCHI TELEGRAM DA                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
            /start yoki "ğŸ“ Lokatsiya" tugmasi
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TELEGRAM SERVER (TELEGRAM.ORG)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    BOT (PYTHON TELEGRAM BOT LIBRARY)                   â”‚
â”‚                                                        â”‚
â”‚    1. Update olinadi                                   â”‚
â”‚    2. Handler tanlandi                                â”‚
â”‚    3. Funksiya chaqiriladi                            â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†™    â†“    â†˜
           /start    Location   /help
             â†“         â†“          â†“
          start()   handle_    help_
                    location() command()
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FUNKSIYALAR (ASYNC FUNCTIONS)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                              â†“
    get_location_name()            get_prayer_times()
         â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TASHQI API LARDAN SO'ROV                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“                                    â†“
Nominatim API                        Aladhan API
(OpenStreetMap)                    (Prayer Times)
    â†“                                    â†“
Hudud nomi qaytaradi              Namoz vaqtlari qaytaradi
"Tashkent, ..."                   "Bomdod: 06:25, ..."
    â†“                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    LOCAL FILE STORAGE                                  â”‚
â”‚    user_data.json                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
        XABAR YASALADI VA YUBORILADI
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TELEGRAM SERVER (TELEGRAM.ORG)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FOYDALANUVCHINING TELEGRAMIGA CHIQADI              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2ï¸âƒ£ HANDLER SELECTION JARAYONI

```
                    UPDATE KELDI
                         â†“
            FILTER TURLARINI TEKSHIR
            â†™        â†“        â†“        â†˜
     LOCATION   COMMAND   TEXT      CALLBACK_QUERY
         â†“         â†“       â†“          â†“
       YES       /start   "Text"    button_data
         â†“       /help    "â“ Y..."   'help'/'settings'
         â†“       /schedule "âš™ï¸ S..." 'main'/'contact'
         â†“       /location
         â†“
    HANDLER TANLANDI
    â†“
    handle_location()
    â†“
    start()
    â†“
    help_command()
    â†“
    schedule_command()
    â†“
    location_command()
    â†“
    handle_text_message()
    â†“
    button_callback()
```

---

## 3ï¸âƒ£ LOCATION YUBORILGAN VAQTNING BATAFSIL JARAYONI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FOYDALANUVCHI "ğŸ“ LOKATSIYANI YUBORISH" BOSADI             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
        TELEGRAM LOCATION DIALOG OCHADI
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FOYDALANUVCHI LOKATSIYANI YUBOR â†“
â”‚  latitude: 40.756
â”‚  longitude: 69.115
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BOT: handle_location() CHAQIRILADI                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“              â†“              â†“
   TRY          XABAR         HUDUD NOMINI OL
    â†“           YUBORISH        â†“
    â†“         "â³ Anzaq..." ğŸ“ Nominatim API
    â†“           lanyapti      â†“
    â†“                    "Tashkent, Tashkent City,
    â†“                     Uzbekistan"
    â†“
NAMOZ VAQTLARINI OL
    â†“
ğŸ•Œ Aladhan API
    â†“
{
  "Bomdod": "06:25",
  "Peshin": "12:34",
  "Asr": "15:02",
  "Shom": "17:23",
  "Xufton": "18:43"
}
    â†“
JSON FAYLGA SAQLASH
    â†“
user_data.json:
{
  "778165270": {
    "latitude": 40.756,
    "longitude": 69.115,
    "location_name": "Tashkent, Tashkent City, Uzbekistan",
    "prayer_times": {
      "Bomdod": "06:25",
      ...
    }
  }
}
    â†“
KUNLIK JADVAL XABARI YASALASH
    â†“
ğŸ“… Bugungi Namoz Vaqtlari
ğŸ“ Tashkent, Tashkent City, Uzbekistan
ğŸ•Œ Bomdod: 06:25
ğŸ•Œ Peshin: 12:34
ğŸ•Œ Asr: 15:02
ğŸ•Œ Shom: 17:23
ğŸ•Œ Xufton: 18:43
    â†“
FOYDALANUVCHIGA XABAR YUBORISH
    â†“
âœ… Joylashuvingiz saqlandi!

ğŸ“ Tashkent, Tashkent City, Uzbekistan
    â†“
UMID QILISH - 4:00 AM GACHA
```

---

## 4ï¸âƒ£ JOB QUEUE - AVTOMATIK ISHLAR

```
                    APPLICATION BOSHLANADI
                            â†“
                JOB_QUEUE = application.job_queue
                            â†“
            job_queue.run_daily(
                send_morning_schedule,
                time=time(hour=4, minute=0)
            )
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              TIMER BOSHLANADI                           â”‚
â”‚              (4:00 AM GACHA KUTISH)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                   â° 4:00 AM KELDI
                            â†“
            send_morning_schedule() CHAQIRILADI
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BARCHA FOYDALANUVCHILARNI LOOP QILISH                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        for user_id, user_data in users.items():
                    â†™        â†“        â†“        â†˜
            User 1      User 2    User 3    User 4
             â†“           â†“         â†“         â†“
        (latitude    (latitude (latitude (latitude
         + long)    + long) + long)  + long)
             â†“           â†“         â†“         â†“
        Aladhan API  Aladhan  Aladhan   Aladhan
        so'rov      API so'rov API so'rov API so'rov
             â†“           â†“         â†“         â†“
        Yangi vaqt  Yangi vaqt Yangi vaqt Yangi vaqt
             â†“           â†“         â†“         â†“
        JSON yangilash JSON   JSON yangilash JSON
             â†“           â†“         â†“         â†“
        Xabar yasash   Xabar   Xabar yasash Xabar
                       yasash        (va boshqalar)
             â†“           â†“         â†“         â†“
        context.bot.send_message(chat_id=user1_id, ...)
        context.bot.send_message(chat_id=user2_id, ...)
        context.bot.send_message(chat_id=user3_id, ...)
        context.bot.send_message(chat_id=user4_id, ...)
             â†“           â†“         â†“         â†“
        TELEGRAM SERVER    TELEGRAM SERVER    TELEGRAM SERVER
             â†“                  â†“                  â†“
        User 1 Telegramiga  User 2 Telegramiga  User 3 Telegramiga
        "ğŸ“… Bugungi..."     "ğŸ“… Bugungi..."     "ğŸ“… Bugungi..."
                            â†“
                    24 SOAT KUTISH
                            â†“
                   â° KEYINGI KUN 4:00 AM
                            â†“
                    SHUNING BILAN TAKRORLANADI...
```

---

## 5ï¸âƒ£ ASYNCIO VA PARALLEL SO'ROVLAR

```
BEZ ASYNC (SYNCHRONOUS):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
User 1 lokatsiya yuboradi
â”œâ”€ Nominatim API so'rov (5 soniya) [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]
â”œâ”€ Javob olinadi
â””â”€ User 1 xabar yuboradi
   
User 2 lokatsiya yuboradi (User 1 tug'angunicha kutadi!)
â”œâ”€ Nominatim API so'rov (5 soniya) [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]
â”œâ”€ Javob olinadi
â””â”€ User 2 xabar yuboradi

TOTAL VAQT: 5 + 5 = 10 SONIYA âŒ SEKIN


ASYNC BILAN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
User 1 lokatsiya yuboradi
â”œâ”€ Nominatim API so'rov boshlanadi [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]
â”‚  (kutmasdan boshqa ishlarga o'tadi)
â”‚
User 2 lokatsiya yuboradi
â”œâ”€ Nominatim API so'rov boshlanadi [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]
â”‚  (kutmasdan boshqa ishlarga o'tadi)
â”‚
PARALLEL ISHLAR BAJARILADI:
â”œâ”€ User 1 xabar yasalishi...
â”œâ”€ User 2 xabar yasalishi...
â””â”€ Javoblar kelganda foydalanuvchilar oladi

TOTAL VAQT: ~5 SONIYA âœ… TEZROQ
```

---

## 6ï¸âƒ£ DATA FLOW - FOYDALANUVCHI PERSPEKTIVIDAN

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FOYDALANUVCHI (TELEFON)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ /start yubor
             â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   BOT KEYBOARD          â”‚
        â”‚ ğŸ“ Lokatsiya            â”‚
        â”‚ â“ Yordam               â”‚
        â”‚ âš™ï¸ Sozlamalar           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                        â”‚
         â†“ ğŸ“ Bosdi              â†“ â“ Bosdi
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LOCATION     â”‚      â”‚ HELP MESSAGE â”‚
    â”‚ DIALOG       â”‚      â”‚              â”‚
    â”‚ (Harita)     â”‚      â”‚ /help        â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Lokatsiya tanla
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ latitude: 40.756             â”‚
    â”‚ longitude: 69.115            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ TELEGRAM API
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ BOT JARAYONI                 â”‚
    â”‚ 1. API CHAQIRUVI             â”‚
    â”‚ 2. JADVAL YASASHI            â”‚
    â”‚ 3. JSON SAQLASH              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ TELEGRAM API
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… TASDIQLASH XABARI         â”‚
    â”‚ ğŸ“ Tashkent, ...             â”‚
    â”‚                              â”‚
    â”‚ ğŸ“… KUNLIK JADVAL:            â”‚
    â”‚ ğŸ•Œ Bomdod: 06:25            â”‚
    â”‚ ğŸ•Œ Peshin: 12:34            â”‚
    â”‚ ...                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Foydalanuvchi o'qiydi
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FOYDALANUVCHI HUZUR          â”‚
    â”‚ (Nomoz vaqtlarini ko'rdi)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ 24 SOAT KUTISH
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4:00 AM - KUNLIK JADVAL      â”‚
    â”‚ (AVTOMATIK)                  â”‚
    â”‚ ğŸ“… Bugungi Namoz Vaqtlari   â”‚
    â”‚ ğŸ•Œ Bomdod: 06:25            â”‚
    â”‚ ğŸ•Œ Peshin: 12:34            â”‚
    â”‚ ...                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7ï¸âƒ£ MEMORY VA STORAGE STRUKTURA

```
RAM (JOYNI XOTIRA):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PYTHON SCRIPT JARAYONI                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ TOKEN = "8517360815:AAEchs..."                    â”‚  â”‚
â”‚  â”‚ USER_DATA_FILE = 'user_data.json'                 â”‚  â”‚
â”‚  â”‚ PRAYER_NAMES = { ... }                            â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚ users = {                                         â”‚  â”‚
â”‚  â”‚     "778165270": {                                â”‚  â”‚
â”‚  â”‚         "first_name": "Otamurod",                 â”‚  â”‚
â”‚  â”‚         "latitude": 40.756,                       â”‚  â”‚
â”‚  â”‚         "longitude": 69.115,                      â”‚  â”‚
â”‚  â”‚         "location_name": "Tashkent, ...",         â”‚  â”‚
â”‚  â”‚         "prayer_times": { ... },                  â”‚  â”‚
â”‚  â”‚         "registered_date": "2026-01-17..."        â”‚  â”‚
â”‚  â”‚     }                                             â”‚  â”‚
â”‚  â”‚ }                                                 â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚ application = Application(...)                    â”‚  â”‚
â”‚  â”‚ handlers = [...]                                  â”‚  â”‚
â”‚  â”‚ job_queue = ...                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DISK STORAGE (QATTIQ DISK):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
C:\Users\...\Downloads\BOT\
â”œâ”€ telegram_bot.py          (Script fayli)
â”œâ”€ user_data.json           (Foydalanuvchi ma'lumotlari)
â”œâ”€ .venv\                   (Virtual muhit)
â””â”€ BOT_TUSHUNTIRISH.md      (Dokumentatsiya)

user_data.json ICHIDA:
{
  "778165270": {
    "first_name": "ğğ­ğšğ¦ğ®ğ«ğ¨ğ",
    "latitude": 40.756225,
    "longitude": 69.115157,
    "location_name": "Toshkent Viloyati, OÊ»zbekiston",
    "prayer_times": {
      "Bomdod": "06:25",
      "Peshin": "12:34",
      "Asr": "15:02",
      "Shom": "17:23",
      "Xufton": "18:43"
    },
    "registered_date": "2026-01-17T18:20:53.302716"
  }
}
```

---

## 8ï¸âƒ£ ERROR HANDLING JARAYONI

```
TRY BLOCK BOSHLANADI
        â†“
    KODLAR BAJARILADI
        â†“
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘ XATO BO'LSAMI?        â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              â”‚
          YES â”‚ NO
              â†“  â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ EXCEPT BLOCK    â”‚ (NORMAL)
        â”‚                 â”‚
        â”‚ Exception e     â”‚
        â”‚ catch qilinadi  â”‚
        â”‚                 â”‚
        â”‚ logger.error()  â”‚ NORMAL
        â”‚                 â”‚ EXECUTION
        â”‚ user ga xabar   â”‚
        â”‚ "âŒ Xato: ..."  â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â””â”€â”€â†’ PROGRAM DAVOM ETADI
```

---

## XULOSA

Bot quyidagi tuzilishda ishlaydi:

```
TELEGRAM USER
    â†“
TELEGRAM API
    â†“
PYTHON TELEGRAM BOT LIBRARY
    â†“
HANDLER SELECTION (Qaysi funksiya?)
    â†“
ASYNC FUNCTIONS (get_location_name, get_prayer_times)
    â†“
EXTERNAL API (Nominatim, Aladhan)
    â†“
LOCAL JSON FILE (user_data.json)
    â†“
RESPONSE FORMATION
    â†“
TELEGRAM API
    â†“
TELEGRAM USER
```

Har bir qadam parallel bo'lib, bot tez va samarali ishlaydi! âš¡ğŸš€
